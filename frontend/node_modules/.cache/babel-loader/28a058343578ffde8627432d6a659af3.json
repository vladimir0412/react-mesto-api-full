{"ast":null,"code":"class Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n\n  _getResponseData(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n\n    return res.json();\n  }\n\n  getProfile() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers\n    }).then(this._getResponseData);\n  }\n\n  getCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers\n    }).then(this._getResponseData);\n  }\n\n  editProfile(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    }).then(this._getResponseData);\n  }\n\n  createCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    }).then(this._getResponseData);\n  }\n\n  deleteCard(data, id) {\n    const cardId = id;\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    }).then(this._getResponseData);\n  }\n\n  addLike(id) {\n    const cardId = id;\n    return fetch(`${this._url}/cards/${cardId}/likes`, {\n      method: 'PUT',\n      headers: this._headers\n    }).then(this._getResponseData);\n  }\n\n  removeLike(id) {\n    const cardId = id;\n    return fetch(`${this._url}/cards/${cardId}/likes`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(this._getResponseData);\n  }\n\n  editAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    }).then(this._getResponseData);\n  }\n\n}\n\nconst api = new Api({\n  url: 'https://localhost:3000',\n  headers: {\n    authorization: `Bearer ${token}`,\n    'Content-Type': 'application/json'\n  }\n});\nexport default api;","map":{"version":3,"names":["Api","constructor","config","_url","url","_headers","headers","_getResponseData","res","ok","Promise","reject","status","json","getProfile","fetch","then","getCards","editProfile","data","method","body","JSON","stringify","createCard","deleteCard","id","cardId","addLike","removeLike","editAvatar","api","authorization","token"],"sources":["C:/Users/Vladimir/dev/react-mesto-api-full/frontend/src/utils/Api.js"],"sourcesContent":["\n\nclass Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n\n  _getResponseData(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  }\n\n  getProfile() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers\n    })\n    .then(this._getResponseData)\n  }\n\n  getCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers\n    })\n    .then(this._getResponseData)\n  }\n\n  editProfile(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n    .then(this._getResponseData)\n  }\n\n  createCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n    .then(this._getResponseData)\n  }\n\n  deleteCard(data, id) {\n    const cardId = id;\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n    .then(this._getResponseData)\n  }\n\n  addLike(id) {\n    const cardId = id;\n    return fetch(`${this._url}/cards/${cardId}/likes`, {\n      method: 'PUT',\n      headers: this._headers,\n    })\n    .then(this._getResponseData)\n  }\n\n  removeLike(id) {\n    const cardId = id;\n    return fetch(`${this._url}/cards/${cardId}/likes`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n    .then(this._getResponseData)\n  }\n\n  editAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n    .then(this._getResponseData)\n  }\n}\n\nconst api = new Api({\n  url: 'https://localhost:3000',\n  headers: {\n    authorization: `Bearer ${token}`,\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}