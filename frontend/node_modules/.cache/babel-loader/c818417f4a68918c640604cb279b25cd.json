{"ast":null,"code":"import _classCallCheck from\"C:/Users/Vladimir/dev/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Vladimir/dev/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var token=localStorage.getItem('token');var Api=/*#__PURE__*/function(){function Api(config){_classCallCheck(this,Api);this._url=config.url;this._headers=config.headers;}_createClass(Api,[{key:\"_getResponseData\",value:function _getResponseData(res){if(!res.ok){return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}return res.json();}},{key:\"getProfile\",value:function getProfile(){return fetch(\"\".concat(this._url,\"/users/me\"),{headers:this._headers}).then(this._getResponseData);}},{key:\"getCards\",value:function getCards(){return fetch(\"\".concat(this._url,\"/cards\"),{headers:this._headers}).then(this._getResponseData);}},{key:\"editProfile\",value:function editProfile(data){return fetch(\"\".concat(this._url,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify(data)}).then(this._getResponseData);}},{key:\"createCard\",value:function createCard(data){return fetch(\"\".concat(this._url,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify(data)}).then(this._getResponseData);}},{key:\"deleteCard\",value:function deleteCard(data,id){var cardId=id;return fetch(\"\".concat(this._url,\"/cards/\").concat(cardId),{method:'DELETE',headers:this._headers,body:JSON.stringify(data)}).then(this._getResponseData);}},{key:\"addLike\",value:function addLike(id){var cardId=id;return fetch(\"\".concat(this._url,\"/cards/\").concat(cardId,\"/likes\"),{method:'PUT',headers:this._headers}).then(this._getResponseData);}},{key:\"removeLike\",value:function removeLike(id){var cardId=id;return fetch(\"\".concat(this._url,\"/cards/\").concat(cardId,\"/likes\"),{method:'DELETE',headers:this._headers}).then(this._getResponseData);}},{key:\"editAvatar\",value:function editAvatar(data){return fetch(\"\".concat(this._url,\"/users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify(data)}).then(this._getResponseData);}}]);return Api;}();var api=new Api({url:'https://api.pavlovv.students.nomoredomains.sbs',headers:{authorization:\"Bearer \".concat(token),'Content-Type':'application/json'}});export default api;","map":{"version":3,"names":["token","localStorage","getItem","Api","config","_url","url","_headers","headers","res","ok","Promise","reject","status","json","fetch","then","_getResponseData","data","method","body","JSON","stringify","id","cardId","api","authorization"],"sources":["C:/Users/Vladimir/dev/react-mesto-api-full/frontend/src/utils/Api.js"],"sourcesContent":["const token = localStorage.getItem('token');\n\nclass Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n\n  _getResponseData(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  }\n\n  getProfile() {\n    return fetch(`${this._url}/users/me`, {\n      headers: this._headers\n    })\n    .then(this._getResponseData)\n  }\n\n  getCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: this._headers\n    })\n    .then(this._getResponseData)\n  }\n\n  editProfile(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n    .then(this._getResponseData)\n  }\n\n  createCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n    .then(this._getResponseData)\n  }\n\n  deleteCard(data, id) {\n    const cardId = id;\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n    .then(this._getResponseData)\n  }\n\n  addLike(id) {\n    const cardId = id;\n    return fetch(`${this._url}/cards/${cardId}/likes`, {\n      method: 'PUT',\n      headers: this._headers,\n    })\n    .then(this._getResponseData)\n  }\n\n  removeLike(id) {\n    const cardId = id;\n    return fetch(`${this._url}/cards/${cardId}/likes`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n    .then(this._getResponseData)\n  }\n\n  editAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n    .then(this._getResponseData)\n  }\n}\n\nconst api = new Api({\n  url: 'https://api.pavlovv.students.nomoredomains.sbs',\n  headers: {\n    authorization: `Bearer ${token}`,\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;\n\n"],"mappings":"gRAAA,GAAMA,MAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,C,GAEMC,I,yBACJ,aAAYC,MAAZ,CAAoB,2BAClB,KAAKC,IAAL,CAAYD,MAAM,CAACE,GAAnB,CACA,KAAKC,QAAL,CAAgBH,MAAM,CAACI,OAAvB,CACD,C,gDAED,0BAAiBC,GAAjB,CAAsB,CACpB,GAAI,CAACA,GAAG,CAACC,EAAT,CAAa,CACX,MAAOC,QAAO,CAACC,MAAR,iDAA0BH,GAAG,CAACI,MAA9B,EAAP,CACD,CACD,MAAOJ,IAAG,CAACK,IAAJ,EAAP,CACD,C,0BAED,qBAAa,CACX,MAAOC,MAAK,WAAI,KAAKV,IAAT,cAA0B,CACpCG,OAAO,CAAE,KAAKD,QADsB,CAA1B,CAAL,CAGNS,IAHM,CAGD,KAAKC,gBAHJ,CAAP,CAID,C,wBAED,mBAAW,CACT,MAAOF,MAAK,WAAI,KAAKV,IAAT,WAAuB,CACjCG,OAAO,CAAE,KAAKD,QADmB,CAAvB,CAAL,CAGNS,IAHM,CAGD,KAAKC,gBAHJ,CAAP,CAID,C,2BAED,qBAAYC,IAAZ,CAAkB,CAChB,MAAOH,MAAK,WAAI,KAAKV,IAAT,cAA0B,CACpCc,MAAM,CAAE,OAD4B,CAEpCX,OAAO,CAAE,KAAKD,QAFsB,CAGpCa,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAH8B,CAA1B,CAAL,CAKNF,IALM,CAKD,KAAKC,gBALJ,CAAP,CAMD,C,0BAED,oBAAWC,IAAX,CAAiB,CACf,MAAOH,MAAK,WAAI,KAAKV,IAAT,WAAuB,CACjCc,MAAM,CAAE,MADyB,CAEjCX,OAAO,CAAE,KAAKD,QAFmB,CAGjCa,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAH2B,CAAvB,CAAL,CAKNF,IALM,CAKD,KAAKC,gBALJ,CAAP,CAMD,C,0BAED,oBAAWC,IAAX,CAAiBK,EAAjB,CAAqB,CACnB,GAAMC,OAAM,CAAGD,EAAf,CACA,MAAOR,MAAK,WAAI,KAAKV,IAAT,mBAAuBmB,MAAvB,EAAiC,CAC3CL,MAAM,CAAE,QADmC,CAE3CX,OAAO,CAAE,KAAKD,QAF6B,CAG3Ca,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAHqC,CAAjC,CAAL,CAKNF,IALM,CAKD,KAAKC,gBALJ,CAAP,CAMD,C,uBAED,iBAAQM,EAAR,CAAY,CACV,GAAMC,OAAM,CAAGD,EAAf,CACA,MAAOR,MAAK,WAAI,KAAKV,IAAT,mBAAuBmB,MAAvB,WAAuC,CACjDL,MAAM,CAAE,KADyC,CAEjDX,OAAO,CAAE,KAAKD,QAFmC,CAAvC,CAAL,CAINS,IAJM,CAID,KAAKC,gBAJJ,CAAP,CAKD,C,0BAED,oBAAWM,EAAX,CAAe,CACb,GAAMC,OAAM,CAAGD,EAAf,CACA,MAAOR,MAAK,WAAI,KAAKV,IAAT,mBAAuBmB,MAAvB,WAAuC,CACjDL,MAAM,CAAE,QADyC,CAEjDX,OAAO,CAAE,KAAKD,QAFmC,CAAvC,CAAL,CAINS,IAJM,CAID,KAAKC,gBAJJ,CAAP,CAKD,C,0BAED,oBAAWC,IAAX,CAAiB,CACf,MAAOH,MAAK,WAAI,KAAKV,IAAT,qBAAiC,CAC3Cc,MAAM,CAAE,OADmC,CAE3CX,OAAO,CAAE,KAAKD,QAF6B,CAG3Ca,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAHqC,CAAjC,CAAL,CAKNF,IALM,CAKD,KAAKC,gBALJ,CAAP,CAMD,C,mBAGH,GAAMQ,IAAG,CAAG,GAAItB,IAAJ,CAAQ,CAClBG,GAAG,CAAE,gDADa,CAElBE,OAAO,CAAE,CACPkB,aAAa,kBAAY1B,KAAZ,CADN,CAEP,eAAgB,kBAFT,CAFS,CAAR,CAAZ,CAQA,cAAeyB,IAAf"},"metadata":{},"sourceType":"module"}